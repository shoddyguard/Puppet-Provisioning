# -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure("2") do |config|
    config.vm.box = "bento/ubuntu-18.04"
    # config
    config.vm.provider "virtualbox" do |vb|
      vb.memory = "2048"
      vb.cpus = 2
    end
    config.vm.define "puppetlinux" do |pl|
      pl.vm.network "private_network", ip: "192.168.69.3"
      pl.vm.provision "shell", inline: "echo 192.168.69.2   bs-puppettest.brownserve.co.uk > /etc/hosts"
    end
    config.vm.define "puppetmaster" do |pm|
      pm.vm.network "forwarded_port", guest: 80, host: 8080 # To test puppetboard.
      pm.vm.network "private_network", ip: "192.168.69.2"
      pm.vm.synced_folder "setup-tmp/", "/vagrat/setup-tmp" # You may want to pop your eyam keys and r10k yaml in here for ease.
      pm.vm.provider "virtualbox" do |vb|
        vb.memory = "4096" # extra memories for a Puppet master
      end
    end
end